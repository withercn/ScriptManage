@using ScriptManage.Models
@{
	Layout = "~/Views/Shared/_aside.cshtml";
	ViewBag.Title = "用户管理";
	HtmlPager pager = ViewBag.Pager;
}
<div class="module user">
	<header><h3>用户列表</h3></header>
	<div class="contents">
		<table class="tablesorter" cellspacing="0">
			<thead><tr>
				<th class="header"><span class="all">全选</span> / <span class="none">反选</span></th>
				<th class="header">编号 <img src="~/Images/bg.gif" /></th>
				<th class="header">账号 <img src="~/Images/bg.gif" /></th>
				<th class="header">角色</th>
				<th class="header">操作</th>
			</tr></thead>
			<tbody>
				@foreach (var m in Model)
				{
					<tr>
					<td><input type="checkbox" value="@m.id" /></td>
					<td>@m.id</td>
					<td>@m.username</td>
					<td>@m.role</td>
					<td class="action"><a href="@Url.Action("Edit/"+m.id)"><img src="~/Images/icn_edit.png" /></a> <a href="@Url.Action("Del/"+m.id)"><img src="~/Images/icn_trash.png" /></a></td>
					</tr>
				}
			</tbody>
		</table>
		<div class="pager">
			<a href="@Url.Action("Index", "User", new { id = pager.First })">首页</a>
			<a href="@Url.Action("Index", "User", new { id = pager.Prev })"><</a>
			@for (var i = pager.Start; i <= pager.End; i++)
			{
				if (i != pager.PageIndex)
				{ 
				<a href="@Url.Action("Index", new { id = i })">@i</a>
					}
					else
					{ 
				<a class="current">@i</a>
					}
				}
			<a href="@Url.Action("Index", "User", new { id = pager.Next })">></a>
			<a href="@Url.Action("Index", "User", new { id = pager.Last })">末页</a>
			<a>@(pager.TotalRecord)记录</a>
		</div>
		<div class="clear"></div>
	</div>
</div>
@section Scripts{
	@Scripts.Render("~/bundles/jquerytable")
}